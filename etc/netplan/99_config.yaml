# Note 1:
#   It is highly recommended to perform "sudo netplan try" before the actual application.
#
# Note 2:
#   Note that previous changes sometimes remain even if new ones are applied.
#
# Note 3:
#   Sometimes "sudo netplan try" doesn't revert changes for some reason,
#   but they should be reverted if you reboot the system because the Git diff is restored
#   when the system starts up.

network:
  version: 2
  renderer: networkd
  ethernets:
    # https://cosmoz.jp/usage/netconf.html (ja)
    #
    # An original LAN port connected to WAN
    eth0:
      dhcp4: yes
      # An IPv6 address may be assigned through router advertisements, even though DHCPv6 is disabled.
      dhcp6: no
      dhcp-identifier: mac
      optional: true
    # An incorporated Wi-Fi interface, which works as an access point managed by hostapd
    wlan0:
      dhcp4: no
      addresses:
        - 192.168.82.1/24
    # An adapter LAN port connected to the other Wi-Fi router
    eth1:
      dhcp4: no
      dhcp6: false
      accept-ra: false
      link-local: []
      addresses:
        - 192.168.80.1/24
        - fd00:0:0:3::1/64
      routes:
        - to: 192.168.80.0/24
          via: 192.168.80.1
          table: 102
      routing-policy:
        - from: 192.168.80.0/24
          table: 102
      nameservers:
        addresses: [192.168.80.1]
      ipv6-privacy: true
